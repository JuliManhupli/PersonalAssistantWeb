{% extends 'personal_assistant/base.html' %}

{% block content %}

{% load static %}
<link rel="stylesheet" href="{% static 'notebook/style.css' %}">

{% if form.errors and form.non_field_errors %}
<div class="alert alert-danger" role="alert">
    {{form.non_field_errors}}
</div>
{% endif %}

<div class="quote ms-5 col-md-7" itemscope="" itemtype="http://schema.org/CreativeWork">
  <h2 style="text-align: center;">Оновити Нотатку</h2>
</div>

<div class="author-details">
  <form method="post" action="{% url 'notebook:update_note' notebook_id %}">
    {% csrf_token %}
    <div class="mb-5">
      <label class="form-label">{{ note_form.title.label_tag }}</label>
      {{ note_form.title }}
    </div>
    <div class="mb-5">
      <label class="form-label">{{ note_form.description.label_tag }}</label>
      {{ note_form.description }}
    </div>
    <div class="mb-5">
      <label class="form-label">{{ note_form.tags.label_tag }}</label>
      <input type="text" name="{{ note_form.tags.name }}" value="{{ note_form.tags.value|join:', ' }}">
      {% comment %}
      {{ note_form.tags }}
      {% endcomment %}
      <p>
        <span class="help-text">{{ note_form.tags.help_text }}</span>
      </p>
    </div>
    <div class="d-flex justify-content-start" class="mb-3">
      <button type="submit" class="btn btn-primary me-2">Зберегти</button>
      <input type="reset" class="btn btn-secondary me-2" value="Скинути">
      <a href="{{ request.META.HTTP_REFERER|default:'{% url "notebook:all_notes_paginate" %}' }}"
                        class="btn btn-warning">Повернутися</a>
    </div>
  </form>
  {% if messages %}
  <div class="messages">
      {% for message in messages %}
      <span {% if message.tags %} class="alert alert-{{ message.tags }}"{% endif %}>{{ message }}</span>
      {% endfor %}
  </div>
  {% endif %}
</div>

{% endblock %}